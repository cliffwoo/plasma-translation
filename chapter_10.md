## 示例程序

去中心化应用可以被重新定义为一个MapReduce问题，并使用基于代币的激励机制来保证其正确运行。

### 10.1 基于区块链的Reddit克隆

该应用主要是在区块链上完成数据存储(CRUD)相关功能。主要的计算和验证都围绕着访问控制，身份识别(投票或者发帖)以及审核进行。多数的Web应用程序都是类似的只在后端进行CRUD操作。

在根链中包括共识规则和欺诈检验的智能合约。在最顶层的父节点中包含各个子版块(subreddits)的账户。每个子版块都是父节点的一个子节点，并且是一个Plasma链。每个子版块都是一个由帖子组成的Plasma链。每个帖子下的子链用来保存评论信息。共识机制来确保访问控制的执行。对前一个块的随机化承诺(有父链提供的随机数)，需要保存在区块头中。定期执行归约函数来计算置顶和其他的统计数据。

个人用户可以使用计算机将数据和软件下载到本地。提交数据需要支付手续费，从而通过激励的方式来保证数据被写入链上，为了保证数据可用性而下载旧的区块也需要一定的费用。

为了浏览某个具体的帖子，用户需要校验根链上的承诺(commitment)，随后再通过最顶端的父节点(比如说查找一周前的数据，需要向前回溯n个块)找到子版块所对应的账户状态树。随后连接到一个DHT网络来查找包含子版块的节点，并从链头开始下载子版块数据(根据需要，可能需要向前回溯n个块来做校验)并浏览帖子列表，同时以轻客户端模式下载状态树以及相关带有评论帖子的原始数据。用户仅需关注与其相关的Plasma链的部分内容(仅下载与其相关的帖子和部分子版块)。

以上是在区块链上完成带有部分计算量的数据存储应用的简单示例。验证节点可以对所有节点进行验证，也可以将节点进行分片验证。如果分片进行过多，则需要考虑信息可用性的问题。可以缓解以上问题的解决方案之一就是将子链的全部控制权授予子版块拥有者。

### 10.2 去中心化的交易所



### 10.3 去中心化的电子邮件

为了创建去中心化的电子邮件应用，需要在Plasma区块链中设立对应的账户，并在接收邮件时进行支付(将信息插入链中)。提交到链上的信息使用公钥加密。通过强制执行来确保不明身份的实体在发送邮件时必须支付手续费，后续可以采用zk-SNARKS来进一步优化。父链中包含一个子链的目录，并执行支付。以上为一个简要的设计方案。

### 10.4 去中心化的CDN

### 10.5 私有链

参与者没有义务将链上的数据披露给其他人(尽管没有组织数据被公开的机制)，如果参与者希望在根链下运行一些私有区块链，也是可以做到的。这就像对局域网/互联网进行分离一样。交易可以在本地的私有链上进行，也可以与公有链进行通讯和金融交易。